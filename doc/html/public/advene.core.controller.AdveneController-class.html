<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>advene.core.controller.AdveneController</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css"></link>
</head>
<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">

<!-- =========== START OF NAVBAR =========== -->
<table class="navbar" border="0" width="100%" cellpadding="0" bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="center">
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar" align="right" width="100%">
      <table border="0" cellpadding="0" cellspacing="0">
      <tr><th class="navbar" align="center">
        <p class="nomargin">
          Advene
      </p></th></tr></table>
    </th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <font size="-1"><b class="breadcrumbs">
        <a href="advene-module.html">Package&nbsp;advene</a> ::
        <a href="advene.core-module.html">Package&nbsp;core</a> ::
        <a href="advene.core.controller-module.html">Module&nbsp;controller</a> ::
        Class&nbsp;AdveneController
      </b></font></br>
    </td>
    <td><table cellpadding="0" cellspacing="0">
      <tr><td align="right"><font size="-2">[<a href="../private/advene.core.controller.AdveneController-class.html">show&nbsp;private</a>&nbsp;|&nbsp;hide&nbsp;private]</font></td></tr>
      <tr><td align="right"><font size="-2">[<a href="frames.html"target="_top">frames</a>&nbsp;|&nbsp;<a href="advene.core.controller.AdveneController-class.html" target="_top">no&nbsp;frames</a>]</font></td></tr>
    </table></td>
</tr></table>

<!-- =========== START OF CLASS DESCRIPTION =========== -->
<h2 class="class">Class AdveneController</h2>

<hr/>

<p>AdveneController class.</p>
The main attributes for this class are:
<ul>
  <li>
    <a 
    href="advene.core.controller.AdveneController-class.html#package" 
    class="link"><code>package</code></a> : the currently loaded 
    package
  </li>
  <li>
    <a 
    href="advene.core.controller.AdveneController-class.html#imagecache" 
    class="link"><code>imagecache</code></a> : the associated 
    imagecache
  </li>
  <li>
    <a 
    href="advene.core.controller.AdveneController-class.html#active_annotations" 
    class="link"><code>active_annotations</code></a> : the currently 
    active annotations
  </li>
  <li>
    <a 
    href="advene.core.controller.AdveneController-class.html#player" 
    class="link"><code>player</code></a> : the player (<a 
    name="index-advene_core_mediacontrol_Player"></a><i 
    class="indexterm">advene.core.mediacontrol.Player</i> instance)
  </li>
  <li>
    <a 
    href="advene.core.controller.AdveneController-class.html#event_handler" 
    class="link"><code>event_handler</code></a> : the event handler
  </li>
  <li>
    <a 
    href="advene.core.controller.AdveneController-class.html#server" 
    class="link"><code>server</code></a> : the embedded web server
  </li>
</ul>
Some entry points in the methods:
<ul>
  <li>
    <a 
    href="advene.core.controller.AdveneController-class.html#__init__" 
    class="link"><code>__init__</code></a> : controller 
    initialization
  </li>
  <li>
    <a 
    href="advene.core.controller.AdveneController-class.html#update" 
    class="link"><code>update</code></a> : regularly called method used 
    to update information about the current stream
  </li>
  <li>
    <a 
    href="advene.core.controller.AdveneController-class.html#update_status" 
    class="link"><code>update_status</code></a> : use this method to 
    interact with the player
  </li>
</ul>
<hr/>


<!-- =========== START OF METHOD SUMMARY =========== -->
<table class="summary" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="summary">
  <th colspan="2">Method Summary</th></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.core.controller.AdveneController-class.html#__init__" class="summary-sig-name"><code>__init__</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>args</span>)</span></code>
<br />
Initializes player and other attributes.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.core.controller.AdveneController-class.html#activate_stbv" class="summary-sig-name"><code>activate_stbv</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>view</span>)</span></code>
<br />
Activates a given STBV.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><a name="build_context"></a><span class="summary-sig"><span class="summary-sig-name">build_context</span>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>here</span>)</span></code>
</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.core.controller.AdveneController-class.html#busy_port_info" class="summary-sig-name"><code>busy_port_info</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Display the processes using the webserver port.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><a name="create_position"></a><span class="summary-sig"><span class="summary-sig-name">create_position</span>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>value</span>,
          <span class=summary-sig-arg>key</span>,
          <span class=summary-sig-arg>origin</span>)</span></code>
</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.core.controller.AdveneController-class.html#delete_annotation" class="summary-sig-name"><code>delete_annotation</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>annotation</span>)</span></code>
<br />
Remove the annotation from the package.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">        tuple
</font></td>
  <td><code><span class="summary-sig"><a href="advene.core.controller.AdveneController-class.html#generate_sorted_lists" class="summary-sig-name"><code>generate_sorted_lists</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>position</span>)</span></code>
<br />
Return two sorted lists valid for a given position.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><a name="get_default_media"></a><span class="summary-sig"><span class="summary-sig-name">get_default_media</span>(<span class=summary-sig-arg>self</span>)</span></code>
</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.core.controller.AdveneController-class.html#get_default_url" class="summary-sig-name"><code>get_default_url</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>root</span>)</span></code>
<br />
Return the default package URL.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><a name="get_stbv_list"></a><span class="summary-sig"><span class="summary-sig-name">get_stbv_list</span>(<span class=summary-sig-arg>self</span>)</span></code>
</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><a name="get_title"></a><span class="summary-sig"><span class="summary-sig-name">get_title</span>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>element</span>,
          <span class=summary-sig-arg>representation</span>)</span></code>
</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.core.controller.AdveneController-class.html#handle_http_request" class="summary-sig-name"><code>handle_http_request</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>source</span>,
          <span class=summary-sig-arg>condition</span>)</span></code>
<br />
Handle a HTTP request.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><a name="init"></a><span class="summary-sig"><span class="summary-sig-name">init</span>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>args</span>)</span></code>
</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.core.controller.AdveneController-class.html#load_package" class="summary-sig-name"><code>load_package</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>uri</span>,
          <span class=summary-sig-arg>alias</span>)</span></code>
<br />
Load a package.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.core.controller.AdveneController-class.html#log" class="summary-sig-name"><code>log</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>msg</span>,
          <span class=summary-sig-arg>level</span>)</span></code>
<br />
Add a new log message.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.core.controller.AdveneController-class.html#manage_package_load" class="summary-sig-name"><code>manage_package_load</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>context</span>,
          <span class=summary-sig-arg>parameters</span>)</span></code>
<br />
Event Handler executed after loading a package.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.core.controller.AdveneController-class.html#message_log" class="summary-sig-name"><code>message_log</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>context</span>,
          <span class=summary-sig-arg>parameters</span>)</span></code>
<br />
Event Handler for the message action.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.core.controller.AdveneController-class.html#move_position" class="summary-sig-name"><code>move_position</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>value</span>,
          <span class=summary-sig-arg>relative</span>)</span></code>
<br />
Helper method : fast forward or rewind by value milliseconds.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><a name="notify"></a><span class="summary-sig"><span class="summary-sig-name">notify</span>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>event_name</span>,
          <span class="summary-sig-vararg">*param</span>,
          <span class="summary-sig-kwarg">**kw</span>)</span></code>
</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.core.controller.AdveneController-class.html#on_exit" class="summary-sig-name"><code>on_exit</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>source</span>,
          <span class=summary-sig-arg>event</span>)</span></code>
<br />
General exit callback.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><a name="open_url"></a><span class="summary-sig"><span class="summary-sig-name">open_url</span>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>url</span>)</span></code>
</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">        (string, string)
</font></td>
  <td><code><span class="summary-sig"><a href="advene.core.controller.AdveneController-class.html#parse_command_line" class="summary-sig-name"><code>parse_command_line</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>args</span>)</span></code>
<br />
Parse command line options.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">        a long
</font></td>
  <td><code><span class="summary-sig"><a href="advene.core.controller.AdveneController-class.html#position_update" class="summary-sig-name"><code>position_update</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Updates the current_position_value.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.core.controller.AdveneController-class.html#process_queue" class="summary-sig-name"><code>process_queue</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Batch process pending events.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><a name="queue_action"></a><span class="summary-sig"><span class="summary-sig-name">queue_action</span>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>method</span>,
          <span class="summary-sig-vararg">*args</span>,
          <span class="summary-sig-kwarg">**kw</span>)</span></code>
</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><a name="register_gui"></a><span class="summary-sig"><span class="summary-sig-name">register_gui</span>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>gui</span>)</span></code>
</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.core.controller.AdveneController-class.html#reset_annotation_lists" class="summary-sig-name"><code>reset_annotation_lists</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Reset the future annotations lists.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.core.controller.AdveneController-class.html#restart_player" class="summary-sig-name"><code>restart_player</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Restart the media player.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.core.controller.AdveneController-class.html#save_package" class="summary-sig-name"><code>save_package</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>as</span>)</span></code>
<br />
Save a package.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><a name="set_default_media"></a><span class="summary-sig"><span class="summary-sig-name">set_default_media</span>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>uri</span>)</span></code>
</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.core.controller.AdveneController-class.html#start_update_snapshots" class="summary-sig-name"><code>start_update_snapshots</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>progress_callback</span>,
          <span class=summary-sig-arg>stop_callback</span>)</span></code>
<br />
Automatic snapshot update.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><a name="stop_update_snapshots"></a><span class="summary-sig"><span class="summary-sig-name">stop_update_snapshots</span>(<span class=summary-sig-arg>self</span>)</span></code>
</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.core.controller.AdveneController-class.html#transmute_annotation" class="summary-sig-name"><code>transmute_annotation</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>annotation</span>,
          <span class=summary-sig-arg>annotationType</span>,
          <span class=summary-sig-arg>delete</span>)</span></code>
<br />
Transmute an annotation to a new type.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.core.controller.AdveneController-class.html#update" class="summary-sig-name"><code>update</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Update the information.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.core.controller.AdveneController-class.html#update_snapshot" class="summary-sig-name"><code>update_snapshot</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>position</span>)</span></code>
<br />
Event handler used to take a snapshot for the given position 
(current).</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.core.controller.AdveneController-class.html#update_status" class="summary-sig-name"><code>update_status</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>status</span>,
          <span class=summary-sig-arg>position</span>,
          <span class=summary-sig-arg>notify</span>)</span></code>
<br />
Update the player status.</td></tr>
</table><br />


<!-- =========== START OF INSTANCE VARIABLE SUMMARY =========== -->
<table class="summary" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="summary">
  <th colspan="2">Instance Variable Summary</th></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">list</font></td>
<td><b><a href="advene.core.controller.AdveneController-class.html#active_annotations"><code>active_annotations</code></a></b>: the currently active annotations.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">AdveneEventHandler</font></td>
<td><b><a href="advene.core.controller.AdveneController-class.html#event_handler"><code>event_handler</code></a></b>: the event handler instance</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">list</font></td>
<td><b><a href="advene.core.controller.AdveneController-class.html#future_begins"><code>future_begins</code></a></b>: the annotations that should be activated next (sorted)</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">list</font></td>
<td><b><a href="advene.core.controller.AdveneController-class.html#future_ends"><code>future_ends</code></a></b>: the annotations that should be desactivated next (sorted)</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">imagecache.ImageCache</font></td>
<td><b><a href="advene.core.controller.AdveneController-class.html#imagecache"><code>imagecache</code></a></b>: the current imagecache</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">int</font></td>
<td><b><a href="advene.core.controller.AdveneController-class.html#last_position"><code>last_position</code></a></b>: a cache to check whether an update is necessary</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">boolean</font></td>
<td><b><a href="advene.core.controller.AdveneController-class.html#modified"><code>modified</code></a></b>: indicates if the data has been modified</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">advene.model.Package</font></td>
<td><b><a href="advene.core.controller.AdveneController-class.html#package"><code>package</code></a></b>: the package currently loaded</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">advene.core.mediacontrol.Player</font></td>
<td><b><a href="advene.core.controller.AdveneController-class.html#player"><code>player</code></a></b>: a reference to the player</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">dict</font></td>
<td><b><a href="advene.core.controller.AdveneController-class.html#preferences"><code>preferences</code></a></b>: the current preferences</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">webserver.AdveneWebServer</font></td>
<td><b><a href="advene.core.controller.AdveneController-class.html#server"><code>server</code></a></b>: the embedded web server</td></tr>
</table><br />


<!-- =========== START OF METHOD DETAILS =========== -->
<table class="details" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="details">
  <th colspan="2">Method Details</th></tr>
</table>

<a name="__init__"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">__init__</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>args</span>=<span class=sig-default>None</span>)</span>
    <br /><i>(Constructor)</i>
  </h3>
  Initializes player and other attributes.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="activate_stbv"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">activate_stbv</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>view</span>=<span class=sig-default>None</span>)</span>
  </h3>
  <p>Activates a given STBV.</p>
  If view is None, then reset the user STBV.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="busy_port_info"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">busy_port_info</span>(<span class=sig-arg>self</span>)</span>
  </h3>
  Display the processes using the webserver port.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="delete_annotation"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">delete_annotation</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>annotation</span>)</span>
  </h3>
  Remove the annotation from the package.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="generate_sorted_lists"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">generate_sorted_lists</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>position</span>)</span>
  </h3>
  <p>Return two sorted lists valid for a given position.</p>
  <p>(i.e. all annotations beginning or ending after the position). The 
  lists are sorted according to the begin and end position 
  respectively.</p>
  <p>The elements of the list are (annotation, begin, end).</p>
  <p>The update_display method only has to check the first element of 
  each list. If there is a match, it should trigger the events and pop 
  the element.</p>
  If there is a seek operation, we should regenerate the lists.
  <dl><dt></dt><dd>
    <dl><dt><b>Parameters:</b></dt>
      <dd><code><b>position</b></code> -
         the current position
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=int)</i>
      </dd>
    </dl>
    <dl><dt><b>Returns:</b></dt>
      <dd>
        a tuple of two lists containing triplets
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=tuple)</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="get_default_url"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">get_default_url</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>root</span>=<span class=sig-default>False</span>)</span>
  </h3>
  <p>Return the default package URL.</p>
  If root, then return only the package URL even if it defines a 
  default view.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="handle_http_request"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">handle_http_request</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>source</span>,
          <span class=sig-arg>condition</span>)</span>
  </h3>
  <p>Handle a HTTP request.</p>
  This method is used if config.data.webserver['mode'] == 1.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="load_package"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">load_package</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>uri</span>=<span class=sig-default>None</span>,
          <span class=sig-arg>alias</span>=<span class=sig-default>'advene'</span>)</span>
  </h3>
  <p>Load a package.</p>
  This method is esp. used as a callback for webserver. If called with 
  no argument, or an empty string, it will create a new empty 
  package.
  <dl><dt></dt><dd>
    <dl><dt><b>Parameters:</b></dt>
      <dd><code><b>uri</b></code> -
         the URI of the package
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=string)</i>
      <dd><code><b>alias</b></code> -
         the name of the package (ignored in the GUI, always 
        &quot;advene&quot;)
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=string)</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="log"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">log</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>msg</span>,
          <span class=sig-arg>level</span>=<span class=sig-default>None</span>)</span>
  </h3>
  <p>Add a new log message.</p>
  Should be overriden by the application (GUI for instance)
  <dl><dt></dt><dd>
    <dl><dt><b>Parameters:</b></dt>
      <dd><code><b>msg</b></code> -
         the message
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=string)</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="manage_package_load"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">manage_package_load</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>context</span>,
          <span class=sig-arg>parameters</span>)</span>
  </h3>
  <p>Event Handler executed after loading a package.</p>
  self.package should be defined.
  <dl><dt></dt><dd>
    <dl><dt><b>Returns:</b></dt>
      <dd>
        a boolean (~desactivation)
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="message_log"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">message_log</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>context</span>,
          <span class=sig-arg>parameters</span>)</span>
  </h3>
  <p>Event Handler for the message action.</p>
  Essentialy a wrapper for the <a name="index-log"></a><i 
  class="indexterm">log</i> method.
  <dl><dt></dt><dd>
    <dl><dt><b>Parameters:</b></dt>
      <dd><code><b>context</b></code> -
         the action context
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=TALContext)</i>
      <dd><code><b>parameters</b></code> -
         the parameters (should have a 'message' one)
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=dict)</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="move_position"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">move_position</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>value</span>,
          <span class=sig-arg>relative</span>=<span class=sig-default>True</span>)</span>
  </h3>
  Helper method : fast forward or rewind by value milliseconds.
  <dl><dt></dt><dd>
    <dl><dt><b>Parameters:</b></dt>
      <dd><code><b>value</b></code> -
         the offset in milliseconds
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=int)</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="on_exit"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">on_exit</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>source</span>=<span class=sig-default>None</span>,
          <span class=sig-arg>event</span>=<span class=sig-default>None</span>)</span>
  </h3>
  General exit callback.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="parse_command_line"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">parse_command_line</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>args</span>)</span>
  </h3>
  <p>Parse command line options.</p>
  <p>We recognize the .mpg and .avi extension, as well as the dvd 
  keyword, to specify the media file.</p>
  An .xml file is considered as an annotation package.
  <dl><dt></dt><dd>
    <dl><dt><b>Parameters:</b></dt>
      <dd><code><b>args</b></code> -
         the argument list
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=list)</i>
      </dd>
    </dl>
    <dl><dt><b>Returns:</b></dt>
      <dd>
        the file to add add to playlist if one was specified and the 
        package to load
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=(string, string))</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="position_update"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">position_update</span>(<span class=sig-arg>self</span>)</span>
  </h3>
  <p>Updates the current_position_value.</p>
  <p>This method, regularly called, restarts the player in case of a 
  communication failure.</p>
  It updates the slider range if necessary.
  <dl><dt></dt><dd>
    <dl><dt><b>Returns:</b></dt>
      <dd>
        the current position in ms
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=a long)</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="process_queue"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">process_queue</span>(<span class=sig-arg>self</span>)</span>
  </h3>
  <p>Batch process pending events.</p>
  We process all the pending events since the last notification. 
  Cannot use a while loop on event_queue, since triggered events can 
  generate new notification.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="reset_annotation_lists"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">reset_annotation_lists</span>(<span class=sig-arg>self</span>)</span>
  </h3>
  Reset the future annotations lists.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="restart_player"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">restart_player</span>(<span class=sig-arg>self</span>)</span>
  </h3>
  Restart the media player.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="save_package"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">save_package</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>as</span>=<span class=sig-default>None</span>)</span>
  </h3>
  Save a package.
  <dl><dt></dt><dd>
    <dl><dt><b>Parameters:</b></dt>
      <dd><code><b>as</b></code> -
         the URI of the package
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=string)</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="start_update_snapshots"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">start_update_snapshots</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>progress_callback</span>=<span class=sig-default>None</span>,
          <span class=sig-arg>stop_callback</span>=<span class=sig-default>None</span>)</span>
  </h3>
  <p>Automatic snapshot update.</p>
  The progress_callback method will be called with.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="transmute_annotation"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">transmute_annotation</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>annotation</span>,
          <span class=sig-arg>annotationType</span>,
          <span class=sig-arg>delete</span>=<span class=sig-default>False</span>)</span>
  </h3>
  Transmute an annotation to a new type.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="update"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">update</span>(<span class=sig-arg>self</span>)</span>
  </h3>
  <p>Update the information.</p>
  <p>This method is regularly called by the upper application (for 
  instance a Gtk mainloop).</p>
  Hence, it is a critical execution path and care should be taken with 
  the code used here.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="update_snapshot"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">update_snapshot</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>position</span>)</span>
  </h3>
  Event handler used to take a snapshot for the given position 
  (current).
  <dl><dt></dt><dd>
    <dl><dt><b>Returns:</b></dt>
      <dd>
        a boolean (~desactivation)
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="update_status"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">update_status</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>status</span>=<span class=sig-default>None</span>,
          <span class=sig-arg>position</span>=<span class=sig-default>None</span>,
          <span class=sig-arg>notify</span>=<span class=sig-default>True</span>)</span>
  </h3>
  <p>Update the player status.</p>
  Wrapper for the player.update_status method, used to notify the 
  AdveneEventHandler.
  <dl><dt></dt><dd>
    <dl><dt><b>Parameters:</b></dt>
      <dd><code><b>status</b></code> -
         the status (cf advene.core.mediacontrol.Player)
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=string)</i>
      <dd><code><b>position</b></code> -
         an optional position
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=Position)</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>
<br />


<!-- =========== START OF INSTANCE VARIABLE DETAILS =========== -->
<table class="details" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="details">
  <th colspan="2">Instance Variable Details</th></tr>
</table>
<table width="100%" class="var-details" bgcolor="#e0e0e0"><tr><td>
<a name="active_annotations"></a>
<h3>active_annotations</h3>
the currently active annotations.
<dl>
  <dt></dt>
  <dd>
    <dl>
      <dt><b>Type:</b></dt>
      <dd>
          list

      </dd>
    </dl>
  </dd>
</dl></td></tr></table>
<table width="100%" class="var-details" bgcolor="#e0e0e0"><tr><td>
<a name="event_handler"></a>
<h3>event_handler</h3>
the event handler instance
<dl>
  <dt></dt>
  <dd>
    <dl>
      <dt><b>Type:</b></dt>
      <dd>
          AdveneEventHandler

      </dd>
    </dl>
  </dd>
</dl></td></tr></table>
<table width="100%" class="var-details" bgcolor="#e0e0e0"><tr><td>
<a name="future_begins"></a>
<h3>future_begins</h3>
the annotations that should be activated next (sorted)
<dl>
  <dt></dt>
  <dd>
    <dl>
      <dt><b>Type:</b></dt>
      <dd>
          list

      </dd>
    </dl>
  </dd>
</dl></td></tr></table>
<table width="100%" class="var-details" bgcolor="#e0e0e0"><tr><td>
<a name="future_ends"></a>
<h3>future_ends</h3>
the annotations that should be desactivated next (sorted)
<dl>
  <dt></dt>
  <dd>
    <dl>
      <dt><b>Type:</b></dt>
      <dd>
          list

      </dd>
    </dl>
  </dd>
</dl></td></tr></table>
<table width="100%" class="var-details" bgcolor="#e0e0e0"><tr><td>
<a name="imagecache"></a>
<h3>imagecache</h3>
the current imagecache
<dl>
  <dt></dt>
  <dd>
    <dl>
      <dt><b>Type:</b></dt>
      <dd>
          imagecache.ImageCache

      </dd>
    </dl>
  </dd>
</dl></td></tr></table>
<table width="100%" class="var-details" bgcolor="#e0e0e0"><tr><td>
<a name="last_position"></a>
<h3>last_position</h3>
a cache to check whether an update is necessary
<dl>
  <dt></dt>
  <dd>
    <dl>
      <dt><b>Type:</b></dt>
      <dd>
          int

      </dd>
    </dl>
  </dd>
</dl></td></tr></table>
<table width="100%" class="var-details" bgcolor="#e0e0e0"><tr><td>
<a name="modified"></a>
<h3>modified</h3>
indicates if the data has been modified
<dl>
  <dt></dt>
  <dd>
    <dl>
      <dt><b>Type:</b></dt>
      <dd>
          boolean

      </dd>
    </dl>
  </dd>
</dl></td></tr></table>
<table width="100%" class="var-details" bgcolor="#e0e0e0"><tr><td>
<a name="package"></a>
<h3>package</h3>
the package currently loaded
<dl>
  <dt></dt>
  <dd>
    <dl>
      <dt><b>Type:</b></dt>
      <dd>
          advene.model.Package

      </dd>
    </dl>
  </dd>
</dl></td></tr></table>
<table width="100%" class="var-details" bgcolor="#e0e0e0"><tr><td>
<a name="player"></a>
<h3>player</h3>
a reference to the player
<dl>
  <dt></dt>
  <dd>
    <dl>
      <dt><b>Type:</b></dt>
      <dd>
          advene.core.mediacontrol.Player

      </dd>
    </dl>
  </dd>
</dl></td></tr></table>
<table width="100%" class="var-details" bgcolor="#e0e0e0"><tr><td>
<a name="preferences"></a>
<h3>preferences</h3>
the current preferences
<dl>
  <dt></dt>
  <dd>
    <dl>
      <dt><b>Type:</b></dt>
      <dd>
          dict

      </dd>
    </dl>
  </dd>
</dl></td></tr></table>
<table width="100%" class="var-details" bgcolor="#e0e0e0"><tr><td>
<a name="server"></a>
<h3>server</h3>
the embedded web server
<dl>
  <dt></dt>
  <dd>
    <dl>
      <dt><b>Type:</b></dt>
      <dd>
          webserver.AdveneWebServer

      </dd>
    </dl>
  </dd>
</dl></td></tr></table>
<br />


<!-- =========== START OF NAVBAR =========== -->
<table class="navbar" border="0" width="100%" cellpadding="0" bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="center">
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar" align="right" width="100%">
      <table border="0" cellpadding="0" cellspacing="0">
      <tr><th class="navbar" align="center">
        <p class="nomargin">
          Advene
      </p></th></tr></table>
    </th>
  </tr>
</table>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr>
    <td align="left"><font size="-2">Generated by Epydoc 2.1 on Tue Nov  8 13:32:24 2005</font></td>
    <td align="right"><a href="http://epydoc.sourceforge.net"
                      ><font size="-2">http://epydoc.sf.net</font></a></td>
  </tr>
</table>
</body>
</html>
