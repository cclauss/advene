<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>advene.rules.ecaengine.ECAEngine</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css"></link>
</head>
<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">

<!-- =========== START OF NAVBAR =========== -->
<table class="navbar" border="0" width="100%" cellpadding="0" bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="center">
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar" align="right" width="100%">
      <table border="0" cellpadding="0" cellspacing="0">
      <tr><th class="navbar" align="center">
        <p class="nomargin">
          Advene
      </p></th></tr></table>
    </th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <font size="-1"><b class="breadcrumbs">
        <a href="advene-module.html">Package&nbsp;advene</a> ::
        <a href="advene.rules-module.html">Package&nbsp;rules</a> ::
        <a href="advene.rules.ecaengine-module.html">Module&nbsp;ecaengine</a> ::
        Class&nbsp;ECAEngine
      </b></font></br>
    </td>
    <td><table cellpadding="0" cellspacing="0">
      <tr><td align="right"><font size="-2">[<a href="../private/advene.rules.ecaengine.ECAEngine-class.html">show&nbsp;private</a>&nbsp;|&nbsp;hide&nbsp;private]</font></td></tr>
      <tr><td align="right"><font size="-2">[<a href="frames.html"target="_top">frames</a>&nbsp;|&nbsp;<a href="advene.rules.ecaengine.ECAEngine-class.html" target="_top">no&nbsp;frames</a>]</font></td></tr>
    </table></td>
</tr></table>

<!-- =========== START OF CLASS DESCRIPTION =========== -->
<h2 class="class">Class ECAEngine</h2>

<hr/>

<p>ECAEngine class.</p>
Event-Condition-Action engine. It features three ruleset classes:
<ul>
  <li>
    internal: for internal rules never exposed to the user
  </li>
  <li>
    default: for default rules loaded from a configuration file
  </li>
  <li>
    user: for user rules, defined in packages
  </li>
</ul>
Internally, it stores the data in the <a 
href="advene.rules.ecaengine.ECAEngine-class.html#rulesets" 
class="link"><code>self.rulesets</code></a> dictionary, indexed by class 
name ('internal', 'default', 'user'). Upon every update, it rebuilds the 
<a href="advene.rules.ecaengine.ECAEngine-class.html#ruledict" 
class="link"><code>self.ruledict</code></a> dictionary, which is indexed 
by EventName and keeps a list of all rules associated to this 
EventName.
<hr/>


<!-- =========== START OF METHOD SUMMARY =========== -->
<table class="summary" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="summary">
  <th colspan="2">Method Summary</th></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.rules.ecaengine.ECAEngine-class.html#__init__" class="summary-sig-name"><code>__init__</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>controller</span>)</span></code>
<br />
Initialize the ECAEngine.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">        AdveneContext
</font></td>
  <td><code><span class="summary-sig"><a href="advene.rules.ecaengine.ECAEngine-class.html#build_context" class="summary-sig-name"><code>build_context</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>event</span>,
          <span class="summary-sig-kwarg">**kw</span>)</span></code>
<br />
Build an AdveneContext.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.rules.ecaengine.ECAEngine-class.html#clear_ruleset" class="summary-sig-name"><code>clear_ruleset</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>type_</span>)</span></code>
<br />
Clear the specified ruleset.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.rules.ecaengine.ECAEngine-class.html#clear_state" class="summary-sig-name"><code>clear_state</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Clear the state of all rulesets.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.rules.ecaengine.ECAEngine-class.html#extend_ruleset" class="summary-sig-name"><code>extend_ruleset</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>rs</span>,
          <span class=summary-sig-arg>type_</span>)</span></code>
<br />
Extend the specified ruleset.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.rules.ecaengine.ECAEngine-class.html#get_ruleset" class="summary-sig-name"><code>get_ruleset</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>type_</span>)</span></code>
<br />
Get the specified ruleset.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">        dict
</font></td>
  <td><code><span class="summary-sig"><a href="advene.rules.ecaengine.ECAEngine-class.html#get_state" class="summary-sig-name"><code>get_state</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Return a state of the current rulesets.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">        elements.Rule
</font></td>
  <td><code><span class="summary-sig"><a href="advene.rules.ecaengine.ECAEngine-class.html#internal_rule" class="summary-sig-name"><code>internal_rule</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>event</span>,
          <span class=summary-sig-arg>condition</span>,
          <span class=summary-sig-arg>method</span>)</span></code>
<br />
Declare an internal rule used by the application.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.rules.ecaengine.ECAEngine-class.html#notify" class="summary-sig-name"><code>notify</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>event_name</span>,
          <span class="summary-sig-vararg">*param</span>,
          <span class="summary-sig-kwarg">**kw</span>)</span></code>
<br />
Invoked by the application on the occurence of an event.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">        RuleSet
</font></td>
  <td><code><span class="summary-sig"><a href="advene.rules.ecaengine.ECAEngine-class.html#read_ruleset_from_file" class="summary-sig-name"><code>read_ruleset_from_file</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>filename</span>,
          <span class=summary-sig-arg>type_</span>)</span></code>
<br />
Read a ruleset from a file.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.rules.ecaengine.ECAEngine-class.html#register_action" class="summary-sig-name"><code>register_action</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>registered_action</span>)</span></code>
<br />
Register a RegisteredAction instance.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.rules.ecaengine.ECAEngine-class.html#remove_rule" class="summary-sig-name"><code>remove_rule</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>rule</span>,
          <span class=summary-sig-arg>type_</span>)</span></code>
<br />
Remove a rule from the ruleset.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.rules.ecaengine.ECAEngine-class.html#reset_queue" class="summary-sig-name"><code>reset_queue</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Reset the scheduler's queue.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.rules.ecaengine.ECAEngine-class.html#schedule" class="summary-sig-name"><code>schedule</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>action</span>,
          <span class=summary-sig-arg>context</span>,
          <span class=summary-sig-arg>delay</span>)</span></code>
<br />
Schedule an action for execution.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.rules.ecaengine.ECAEngine-class.html#set_ruleset" class="summary-sig-name"><code>set_ruleset</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>rs</span>,
          <span class=summary-sig-arg>type_</span>)</span></code>
<br />
Set the specified ruleset.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.rules.ecaengine.ECAEngine-class.html#set_state" class="summary-sig-name"><code>set_state</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>state</span>)</span></code>
<br />
Sets the state of all rulesets.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="advene.rules.ecaengine.ECAEngine-class.html#update_rulesets" class="summary-sig-name"><code>update_rulesets</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Update the self.ruledict.</td></tr>
</table><br />


<!-- =========== START OF INSTANCE VARIABLE SUMMARY =========== -->
<table class="summary" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="summary">
  <th colspan="2">Instance Variable Summary</th></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">elements.ECACatalog</font></td>
<td><b><a href="advene.rules.ecaengine.ECAEngine-class.html#catalog"><code>catalog</code></a></b>: the catalog of available actions</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">advene.core.controller.Controller</font></td>
<td><b><a href="advene.rules.ecaengine.ECAEngine-class.html#controller"><code>controller</code></a></b>: the Advene controller</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">dict</font></td>
<td><b><a href="advene.rules.ecaengine.ECAEngine-class.html#ruledict"><code>ruledict</code></a></b>: the global rules dictionary, indexed by EventName</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">dict</font></td>
<td><b><a href="advene.rules.ecaengine.ECAEngine-class.html#rulesets"><code>rulesets</code></a></b>: dictionary holding the rules indexed by classname</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">sched.scheduler</font></td>
<td><b><a href="advene.rules.ecaengine.ECAEngine-class.html#scheduler"><code>scheduler</code></a></b>: the engine's scheduler</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">threading.Thread</font></td>
<td><b><a href="advene.rules.ecaengine.ECAEngine-class.html#schedulerthread"><code>schedulerthread</code></a></b>: the scheduler's execution thread</td></tr>
</table><br />


<!-- =========== START OF METHOD DETAILS =========== -->
<table class="details" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="details">
  <th colspan="2">Method Details</th></tr>
</table>

<a name="__init__"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">__init__</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>controller</span>)</span>
    <br /><i>(Constructor)</i>
  </h3>
  Initialize the ECAEngine.
  <dl><dt></dt><dd>
    <dl><dt><b>Parameters:</b></dt>
      <dd><code><b>controller</b></code> -
         the Advene controller
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=advene.core.controller.Controller)</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="build_context"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">build_context</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>event</span>,
          <span class="sig-kwarg">**kw</span>)</span>
  </h3>
  Build an AdveneContext.
  <dl><dt></dt><dd>
    <dl><dt><b>Parameters:</b></dt>
      <dd><code><b>event</b></code> -
         the event name
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=string)</i>
      <dd><code><b>kw</b></code> -
         additional parameters
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=dict)</i>
      </dd>
    </dl>
    <dl><dt><b>Returns:</b></dt>
      <dd>
        the built context
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=AdveneContext)</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="clear_ruleset"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">clear_ruleset</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>type_</span>=<span class=sig-default>'user'</span>)</span>
  </h3>
  Clear the specified ruleset.
  <dl><dt></dt><dd>
    <dl><dt><b>Parameters:</b></dt>
      <dd><code><b>type_</b></code> -
         the ruleset's class
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=string)</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="clear_state"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">clear_state</span>(<span class=sig-arg>self</span>)</span>
  </h3>
  Clear the state of all rulesets.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="extend_ruleset"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">extend_ruleset</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>rs</span>,
          <span class=sig-arg>type_</span>=<span class=sig-default>'user'</span>)</span>
  </h3>
  Extend the specified ruleset.
  <dl><dt></dt><dd>
    <dl><dt><b>Parameters:</b></dt>
      <dd><code><b>rs</b></code> -
         the set of rules to append
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=RuleSet)</i>
      <dd><code><b>type_</b></code> -
         the destination ruleset's class
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=string)</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="get_ruleset"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">get_ruleset</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>type_</span>=<span class=sig-default>'user'</span>)</span>
  </h3>
  <p>Get the specified ruleset.</p>
  Note: it is the RuleSet itself, not a copy.
  <dl><dt></dt><dd>
    <dl><dt><b>Parameters:</b></dt>
      <dd><code><b>type_</b></code> -
         the ruleset's class
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=string)</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="get_state"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">get_state</span>(<span class=sig-arg>self</span>)</span>
  </h3>
  Return a state of the current rulesets.
  <dl><dt></dt><dd>
    <dl><dt><b>Returns:</b></dt>
      <dd>
        a copy of the current rulesets
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=dict)</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="internal_rule"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">internal_rule</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>event</span>=<span class=sig-default>None</span>,
          <span class=sig-arg>condition</span>=<span class=sig-default>None</span>,
          <span class=sig-arg>method</span>=<span class=sig-default>None</span>)</span>
  </h3>
  <p>Declare an internal rule used by the application.</p>
  It should not be exposed to the user (maybe not even to the 
  developer).
  <dl><dt></dt><dd>
    <dl><dt><b>Parameters:</b></dt>
      <dd><code><b>event</b></code> -
         event name
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=string)</i>
      <dd><code><b>condition</b></code> -
         a condition
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=elements.Condition)</i>
      <dd><code><b>method</b></code> -
         the method to be executed
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=function or method)</i>
      </dd>
    </dl>
    <dl><dt><b>Returns:</b></dt>
      <dd>
        the new rule
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=elements.Rule)</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="notify"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">notify</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>event_name</span>,
          <span class="sig-vararg">*param</span>,
          <span class="sig-kwarg">**kw</span>)</span>
  </h3>
  <p>Invoked by the application on the occurence of an event.</p>
  The event-dependant parameters are passed as named parameters. For 
  instance, annotation-related events get a annotation= parameter. See 
  the ECA model documentation for more details and the parameters 
  corresponding to each event.
  <dl><dt></dt><dd>
    <dl><dt><b>Parameters:</b></dt>
      <dd><code><b>event_name</b></code> -
         the event name
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=string)</i>
      <dd><code><b>param</b></code> -
         additionnal anonymous parameters
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=misc)</i>
      <dd><code><b>kw</b></code> -
         additionnal named parameters
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=<p>depending on the context</p>
              A special named parameter is delay, which will be given 
              in ms. It contains the delay to apply to the rule 
              execution.)</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="read_ruleset_from_file"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">read_ruleset_from_file</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>filename</span>,
          <span class=sig-arg>type_</span>=<span class=sig-default>'user'</span>)</span>
  </h3>
  Read a ruleset from a file.
  <dl><dt></dt><dd>
    <dl><dt><b>Parameters:</b></dt>
      <dd><code><b>filename</b></code> -
         the file from which the rules are read.
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=string)</i>
      <dd><code><b>type_</b></code> -
         the ruleset's class
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=string)</i>
      </dd>
    </dl>
    <dl><dt><b>Returns:</b></dt>
      <dd>
        the new ruleset
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=RuleSet)</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="register_action"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">register_action</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>registered_action</span>)</span>
  </h3>
  Register a RegisteredAction instance.
  <dl><dt></dt><dd>
    <dl><dt><b>Parameters:</b></dt>
      <dd><code><b>registered_action</b></code> -
         the action to be registered
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=RegisteredAction)</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="remove_rule"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">remove_rule</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>rule</span>,
          <span class=sig-arg>type_</span>=<span class=sig-default>'user'</span>)</span>
  </h3>
  <p>Remove a rule from the ruleset.</p>
  Used by view plugins when unregistering, and also for internal 
  rules.
  <dl><dt></dt><dd>
    <dl><dt><b>Parameters:</b></dt>
      <dd><code><b>rule</b></code> -
         the rule to be removed
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=elements.Rule)</i>
      <dd><code><b>type_</b></code> -
         the ruleset's class
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=string)</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="reset_queue"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">reset_queue</span>(<span class=sig-arg>self</span>)</span>
  </h3>
  Reset the scheduler's queue.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="schedule"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">schedule</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>action</span>,
          <span class=sig-arg>context</span>,
          <span class=sig-arg>delay</span>=<span class=sig-default>0</span>)</span>
  </h3>
  Schedule an action for execution.
  <dl><dt></dt><dd>
    <dl><dt><b>Parameters:</b></dt>
      <dd><code><b>action</b></code> -
         the action to be executed
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=Action)</i>
      <dd><code><b>context</b></code> -
         the context parameter for the action
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=AdveneContext)</i>
      <dd><code><b>delay</b></code> -
         a delay for execution (in s)
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=float)</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="set_ruleset"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">set_ruleset</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>rs</span>,
          <span class=sig-arg>type_</span>=<span class=sig-default>'user'</span>)</span>
  </h3>
  <p>Set the specified ruleset.</p>
  Note: a copy of the new set of rules is made.
  <dl><dt></dt><dd>
    <dl><dt><b>Parameters:</b></dt>
      <dd><code><b>rs</b></code> -
         the new set of rules
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=RuleSet)</i>
      <dd><code><b>type_</b></code> -
         the destination ruleset's class
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=string)</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="set_state"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">set_state</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>state</span>)</span>
  </h3>
  Sets the state of all rulesets.
  <dl><dt></dt><dd>
    <dl><dt><b>Parameters:</b></dt>
      <dd><code><b>state</b></code> -
         a previously saved state (cf <a 
        href="advene.rules.ecaengine.ECAEngine-class.html#get_state" 
        class="link"><code>get_state</code></a>)
        <br /><i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        (type=dict)</i>
      </dd>
    </dl>
  </dd></dl>
</td></tr></table>

<a name="update_rulesets"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">update_rulesets</span>(<span class=sig-arg>self</span>)</span>
  </h3>
  <p>Update the self.ruledict.</p>
  <p><a href="advene.rules.ecaengine.ECAEngine-class.html#ruledict" 
  class="link"><code>self.ruledict</code></a> is a dict with event names 
  as keys, and list of rules as actions.</p>
  This method is called by the other helper methods (<a 
  href="advene.rules.ecaengine.ECAEngine-class.html#set_ruleset" 
  class="link"><code>set_ruleset</code></a>, <a 
  href="advene.rules.ecaengine.ECAEngine-class.html#clear_ruleset" 
  class="link"><code>clear_ruleset</code></a>, ...).
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>
<br />


<!-- =========== START OF INSTANCE VARIABLE DETAILS =========== -->
<table class="details" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="details">
  <th colspan="2">Instance Variable Details</th></tr>
</table>
<table width="100%" class="var-details" bgcolor="#e0e0e0"><tr><td>
<a name="catalog"></a>
<h3>catalog</h3>
the catalog of available actions
<dl>
  <dt></dt>
  <dd>
    <dl>
      <dt><b>Type:</b></dt>
      <dd>
          elements.ECACatalog

      </dd>
    </dl>
  </dd>
</dl></td></tr></table>
<table width="100%" class="var-details" bgcolor="#e0e0e0"><tr><td>
<a name="controller"></a>
<h3>controller</h3>
the Advene controller
<dl>
  <dt></dt>
  <dd>
    <dl>
      <dt><b>Type:</b></dt>
      <dd>
          advene.core.controller.Controller

      </dd>
    </dl>
  </dd>
</dl></td></tr></table>
<table width="100%" class="var-details" bgcolor="#e0e0e0"><tr><td>
<a name="ruledict"></a>
<h3>ruledict</h3>
the global rules dictionary, indexed by EventName
<dl>
  <dt></dt>
  <dd>
    <dl>
      <dt><b>Type:</b></dt>
      <dd>
          dict

      </dd>
    </dl>
  </dd>
</dl></td></tr></table>
<table width="100%" class="var-details" bgcolor="#e0e0e0"><tr><td>
<a name="rulesets"></a>
<h3>rulesets</h3>
dictionary holding the rules indexed by classname
<dl>
  <dt></dt>
  <dd>
    <dl>
      <dt><b>Type:</b></dt>
      <dd>
          dict

      </dd>
    </dl>
  </dd>
</dl></td></tr></table>
<table width="100%" class="var-details" bgcolor="#e0e0e0"><tr><td>
<a name="scheduler"></a>
<h3>scheduler</h3>
the engine's scheduler
<dl>
  <dt></dt>
  <dd>
    <dl>
      <dt><b>Type:</b></dt>
      <dd>
          sched.scheduler

      </dd>
    </dl>
  </dd>
</dl></td></tr></table>
<table width="100%" class="var-details" bgcolor="#e0e0e0"><tr><td>
<a name="schedulerthread"></a>
<h3>schedulerthread</h3>
the scheduler's execution thread
<dl>
  <dt></dt>
  <dd>
    <dl>
      <dt><b>Type:</b></dt>
      <dd>
          threading.Thread

      </dd>
    </dl>
  </dd>
</dl></td></tr></table>
<br />


<!-- =========== START OF NAVBAR =========== -->
<table class="navbar" border="0" width="100%" cellpadding="0" bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="center">
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar" align="right" width="100%">
      <table border="0" cellpadding="0" cellspacing="0">
      <tr><th class="navbar" align="center">
        <p class="nomargin">
          Advene
      </p></th></tr></table>
    </th>
  </tr>
</table>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr>
    <td align="left"><font size="-2">Generated by Epydoc 2.1 on Tue Nov  8 13:24:14 2005</font></td>
    <td align="right"><a href="http://epydoc.sourceforge.net"
                      ><font size="-2">http://epydoc.sf.net</font></a></td>
  </tr>
</table>
</body>
</html>
